<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>威数 Vmath | 学习资源共享计划</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            /* 核心色盘 - 清爽现代风 */
            --theme-color: #004e92;     /* 经典蓝 */
            --theme-color-hover: #003d73;
            
            --bg-body: #f8f9fa;         /* 极浅灰背景，护眼 */
            --bg-sidebar: #ffffff;      
            --bg-card: #ffffff;         
            
            /* 强调色 */
            --accent-red: #ef4444;      
            --accent-purple: #8b5cf6;   
            --accent-green: #10b981;    
            --accent-gold: #f59e0b;     
            
            /* 文字颜色 */
            --text-main: #334155;
            --text-dark: #0f172a;       /* 接近纯黑 */
            --text-light: #64748b;      /* 辅助灰 */
            
            /* 尺寸变量 */
            --sidebar-width: 280px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-card: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            --shadow-hover: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -2px rgba(0, 0, 0, 0.04);
            
            --font-stack: 'Poppins', 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0;
            font-family: var(--font-stack);
            color: var(--text-main);
            display: flex;
            height: 100vh;
            background-color: var(--bg-body);
            overflow: hidden;
        }

        /* --- 滚动条 --- */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* --- 侧边栏 --- */
        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--bg-sidebar);
            border-right: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            flex-shrink: 0;
            z-index: 50;
            transition: transform 0.3s ease;
        }

        .app-name { 
            padding: 35px 20px 25px; 
            background: var(--bg-sidebar); 
            text-align: center; 
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .app-name a { 
            text-decoration: none; 
            color: var(--theme-color); 
            font-weight: 700; 
            font-size: 1.6rem; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 12px; 
            letter-spacing: -0.5px;
        }

        .sidebar-nav { padding: 10px 15px 50px 15px; }
        
        .nav-group-title { 
            padding: 24px 15px 8px; 
            font-size: 0.7rem; 
            font-weight: 700; 
            color: #94a3b8; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
        }
        
        .nav-item { 
            display: flex; 
            align-items: center;
            padding: 10px 15px; 
            color: var(--text-light); 
            text-decoration: none; 
            font-size: 0.95rem; 
            cursor: pointer; 
            border-radius: 8px;
            transition: all 0.2s ease; 
            margin-bottom: 2px;
            font-weight: 500;
        }
        
        .nav-item:hover { 
            color: var(--theme-color); 
            background-color: #f1f5f9; 
        }
        
        .nav-item.active { 
            color: var(--theme-color); 
            background: #eef2ff; 
            font-weight: 600; 
        }
        
        .nav-item i { width: 24px; text-align: center; margin-right: 10px; font-size: 1rem; }

        /* --- 主内容区 --- */
        .content { 
            flex: 1; 
            overflow-y: auto; 
            position: relative; 
            padding: 0; 
            scroll-behavior: smooth; 
        }
        
        .page-view { 
            display: none; 
            max-width: 960px; 
            margin: 0 auto; 
            padding: 40px 5%; 
            animation: fadeIn 0.4s ease; 
        }
        
        .page-view.active { display: block; }
        
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        /* --- 首页组件 (全新极简设计) --- */
        .hero-section { 
            text-align: center; 
            padding: 80px 20px 40px; 
            /* 去掉深色背景，改为透明 */
            background: transparent;
            margin-bottom: 0; 
            border: none;
            box-shadow: none;
        }

        .hero-title { 
            font-size: 3.5rem; 
            margin: 0 0 15px 0; 
            letter-spacing: -1.5px; 
            font-weight: 800; 
            color: var(--text-dark);
            /* 渐变文字效果 */
            background: linear-gradient(120deg, var(--theme-color), #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--text-light);
            margin: 0 auto 35px;
            font-weight: 300;
            max-width: 600px;
            line-height: 1.6;
        }

        .btn { 
            padding: 12px 36px; 
            border-radius: 50px; 
            text-decoration: none; 
            font-weight: 600; 
            display: inline-flex; 
            align-items: center; 
            gap: 10px; 
            cursor: pointer; 
            transition: all 0.2s ease; 
            border: none; 
            font-size: 1rem; 
        }
        
        /* 蓝色实心按钮 */
        .btn-primary { 
            background: var(--theme-color); 
            color: white; 
            box-shadow: 0 4px 12px rgba(0, 78, 146, 0.3); 
        }
        .btn-primary:hover { 
            background: var(--theme-color-hover); 
            transform: translateY(-2px); 
            box-shadow: 0 6px 16px rgba(0, 78, 146, 0.4); 
        }

        /* 投稿指南 (清爽版) */
        .guide-box { 
            margin-top: 20px; 
            padding: 20px 10px;
        }
        
        .guide-header {
            text-align: center;
            margin-bottom: 40px;
            color: var(--text-dark);
            position: relative;
        }

        /* 装饰线条 */
        .guide-header::after {
            content: '';
            display: block;
            width: 40px;
            height: 3px;
            background: #e2e8f0;
            margin: 20px auto 0;
            border-radius: 2px;
        }

        .guide-steps { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); 
            gap: 30px; 
        }
        
        .step { 
            background: #fff; 
            padding: 35px 25px; 
            border-radius: var(--radius-lg);
            /* 极简边框 */
            border: 1px solid #f1f5f9;
            box-shadow: var(--shadow-sm);
            text-align: center;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .step:hover { 
            transform: translateY(-5px); 
            box-shadow: var(--shadow-hover); 
            border-color: #e2e8f0;
        }

        .step-num { 
            display: inline-flex; 
            align-items: center;
            justify-content: center;
            width: 48px; 
            height: 48px; 
            background: #eff6ff; 
            color: var(--theme-color); 
            border-radius: 50%; 
            font-weight: 700; 
            font-size: 1.4rem;
            margin-bottom: 20px;
        }
        
        .step h4 { margin: 10px 0 15px; color: var(--text-dark); font-size: 1.15rem; font-weight: 600; }
        .step p { font-size: 0.95rem; color: var(--text-light); line-height: 1.6; margin: 0; }

        /* --- 页面标题与资源卡片 --- */
        h1 { 
            font-size: 2rem; 
            margin-bottom: 10px; 
            color: var(--text-dark); 
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        .page-desc { 
            color: var(--text-light); 
            margin-bottom: 40px; 
            font-size: 1.05rem; 
            border-bottom: 1px dashed #e2e8f0;
            padding-bottom: 20px;
        }

        h3 { 
            margin-top: 50px; 
            margin-bottom: 20px; 
            display: flex; 
            align-items: center; 
            gap: 12px; 
            color: var(--text-dark); 
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .resource-card { 
            background: #fff; 
            border: 1px solid #f1f5f9; 
            border-radius: var(--radius-md); 
            padding: 24px; 
            margin-bottom: 20px; 
            display: flex; 
            align-items: flex-start; 
            transition: all 0.2s ease; 
            box-shadow: var(--shadow-sm);
        }
        
        .resource-card:hover { 
            border-color: #cbd5e1; 
            box-shadow: var(--shadow-hover); 
        }
        
        .res-icon { 
            font-size: 1.8rem; 
            margin-right: 24px; 
            width: 52px; 
            height: 52px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8fafc;
            border-radius: 12px;
            flex-shrink: 0;
        } 
        
        .res-info { flex: 1; }
        
        .res-title { 
            font-weight: 600; 
            font-size: 1.1rem; 
            display: block; 
            margin-bottom: 8px; 
            color: var(--text-dark); 
            line-height: 1.4;
        }
        
        .res-meta { 
            font-size: 0.85rem; 
            color: var(--text-light); 
            display: flex; 
            gap: 10px; 
            align-items: center; 
            flex-wrap: wrap; 
        }
        
        .res-list { margin: 8px 0 0 0; padding-left: 0; list-style: none; font-size: 0.9rem; color: #475569; line-height: 1.7; }
        .res-list li::before { content: "•"; color: #94a3b8; margin-right: 8px; }

        .tag { padding: 3px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; display: inline-block;}
        .tag-sec { background: #fee2e2; color: #ef4444; } 
        .tag-git { background: #f1f5f9; color: #475569; border: 1px solid #cbd5e1; }
        .tag-file { background: #e0f2fe; color: #0284c7; }

        /* 下载按钮区域 */
        .action-area { 
            display: flex; 
            flex-direction: column; 
            align-items: flex-end; 
            justify-content: center; 
            min-width: 140px; 
            margin-left: 20px; 
            gap: 8px;
        }
        
        .download-btn { 
            color: var(--text-main); 
            background: #fff;
            text-decoration: none; 
            font-weight: 600; 
            font-size: 0.85rem; 
            padding: 8px 16px; 
            border: 1px solid #e2e8f0; 
            border-radius: 8px; 
            transition: 0.2s; 
            cursor: pointer; 
            display: inline-flex; 
            align-items: center; 
            justify-content: center;
            gap: 8px; 
            width: 100%;
        }
        
        .download-btn:hover { 
            background: #f8fafc; 
            border-color: var(--text-light);
            color: var(--text-dark);
        }
        
        .download-btn.baidu { 
            color: #06a7ff; 
            border-color: rgba(6, 167, 255, 0.3);
        }
        .download-btn.baidu:hover { 
            background: #06a7ff; 
            color: #fff; 
        }

        .extract-code { 
            font-size: 0.75rem; 
            color: var(--text-light); 
            background: #f8fafc; 
            padding: 4px 8px; 
            border-radius: 6px; 
            font-family: 'Consolas', monospace; 
            letter-spacing: 0.5px;
            width: 100%;
            text-align: center;
        }
        .extract-code span { color: var(--text-dark); font-weight: 700; }

        /* --- 贡献者墙 --- */
        .contributors-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; margin-top: 30px; }
        
        .user-card { 
            background: #fff; 
            border: 1px solid #f1f5f9; 
            border-radius: var(--radius-md); 
            padding: 25px 20px; 
            text-align: center; 
            transition: all 0.2s ease; 
            box-shadow: var(--shadow-sm);
        }
        
        .user-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-hover); border-color: #cbd5e1; }
        
        .user-avatar { 
            width: 64px; height: 64px; 
            border-radius: 50%; 
            background: #f1f5f9; 
            margin: 0 auto 15px; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 24px; color: #cbd5e1; 
        }
        
        .user-avatar img { width: 100%; height: 100%; border-radius: 50%; }
        
        .user-name { font-weight: 700; margin-bottom: 5px; color: var(--text-dark); font-size: 1rem; }
        
        .user-contribution { 
            font-size: 12px; 
            color: var(--text-light); 
            background: #f8fafc; 
            padding: 6px 10px; 
            border-radius: 20px; 
            margin-top: 12px; 
            display: inline-block;
        }

        /* --- 评论区 --- */
        .comments-section {
            max-width: 960px;
            margin: 60px auto 0;
            padding: 40px 5% 80px;
            border-top: 1px solid #e2e8f0;
        }
        .comments-header {
            font-size: 1.2rem;
            color: var(--text-dark);
            margin-bottom: 25px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* 移动端适配 */
        .mobile-menu-btn { 
            display: none; 
            position: fixed; 
            bottom: 25px; right: 25px; 
            width: 50px; height: 50px; 
            background: var(--theme-color); 
            color: white; 
            border-radius: 50%; 
            text-align: center; 
            line-height: 50px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.2); 
            z-index: 100; 
            cursor: pointer; 
        }

        @media screen and (max-width: 768px) {
            .sidebar { position: fixed; height: 100%; transform: translateX(-100%); box-shadow: 10px 0 25px rgba(0,0,0,0.1); }
            .sidebar.open { transform: translateX(0); }
            .mobile-menu-btn { display: block; }
            .page-view { padding: 25px 20px; }
            .hero-section { padding: 60px 20px 20px; text-align: left; }
            .hero-title { font-size: 2.2rem; }
            .guide-steps { grid-template-columns: 1fr; }
            .resource-card { flex-direction: column; }
            .res-icon { margin-bottom: 15px; }
            .action-area { margin-left: 0; margin-top: 20px; width: 100%; align-items: flex-start; }
            .download-btn { width: 100%; }
        }
    </style>
</head>
<body>

    <!-- 侧边栏导航 -->
    <aside class="sidebar" id="sidebar">
        <div class="app-name"><a href="#"><i class="fas fa-graduation-cap"></i> Vmath <span style="font-weight:400; font-size:1.1rem; color:#94a3b8; margin-left:5px;">威数</span></a></div>
        <nav class="sidebar-nav">
            <div class="nav-item active" onclick="switchPage('home', this)"><i class="fas fa-layer-group"></i> 首页概览</div>

            <div class="nav-group-title">大一 Freshman</div>
            <a class="nav-item" onclick="switchPage('course-ma-12', this)"><i class="fas fa-integral"></i> 数学分析(1)(2)</a>
            <a class="nav-item" onclick="switchPage('course-la', this)"><i class="fas fa-vector-square"></i> 高等代数</a>
            <a class="nav-item" onclick="switchPage('course-geo', this)"><i class="fas fa-shapes"></i> 解析几何</a>

            <div class="nav-group-title">大二 Sophomore</div>
            <a class="nav-item" onclick="switchPage('course-ma-3', this)"><i class="fas fa-cube"></i> 数学分析(3)</a>
            <a class="nav-item" onclick="switchPage('course-ode', this)"><i class="fas fa-infinity"></i> 常微分方程</a>
            <a class="nav-item" onclick="switchPage('course-complex', this)"><i class="fas fa-atom"></i> 复变函数</a>
            <a class="nav-item" onclick="switchPage('course-real', this)"><i class="fas fa-chart-area"></i> 实变函数</a>
            
            <div class="nav-group-title">大三 Junior</div>
            <a class="nav-item" onclick="switchPage('course-prob', this)"><i class="fas fa-dice-five"></i> 概率论</a>
            <a class="nav-item" onclick="switchPage('course-num-approx', this)"><i class="fas fa-calculator"></i> 数值逼近</a>
            <a class="nav-item" onclick="switchPage('course-num-alg', this)"><i class="fas fa-border-all"></i> 数值代数</a>
            <a class="nav-item" onclick="switchPage('course-pde', this)"><i class="fas fa-wave-square"></i> 数学物理方程</a>
            <a class="nav-item" onclick="switchPage('course-phy', this)"><i class="fas fa-bolt"></i> 大学物理X</a>
            <a class="nav-item" onclick="switchPage('course-func', this)"><i class="fas fa-project-diagram"></i> 泛函分析基础</a>
            <a class="nav-item" onclick="switchPage('course-stat', this)"><i class="fas fa-chart-bar"></i> 数理统计</a>
            <a class="nav-item" onclick="switchPage('course-num-diff', this)"><i class="fas fa-microchip"></i> 微分方程数值方法</a>
            <a class="nav-item" onclick="switchPage('course-info', this)"><i class="fas fa-network-wired"></i> 信息论基础</a>

            <div class="nav-group-title">大四 Senior</div>
            <a class="nav-item" onclick="switchPage('course-thesis', this)"><i class="fas fa-pen-nib"></i> 毕业设计参考</a>

            <div class="nav-group-title">其他课程 Other</div>
            <a class="nav-item" onclick="switchPage('course-elective', this)"><i class="fas fa-list-ul"></i> 专业选修课</a>
            <a class="nav-item" onclick="switchPage('course-exam', this)"><i class="fas fa-tasks"></i> 其他考查课</a>

            <div class="nav-group-title">生涯 Career</div>
            <a class="nav-item" onclick="switchPage('career-post', this)"><i class="fas fa-scroll"></i> 考研资料</a>
            <a class="nav-item" onclick="switchPage('career-rec', this)"><i class="fas fa-medal"></i> 保研经验</a>
            <a class="nav-item" onclick="switchPage('career-abroad', this)"><i class="fas fa-plane-departure"></i> 留学申请</a>
            <a class="nav-item" onclick="switchPage('career-job', this)"><i class="fas fa-briefcase"></i> 就业/面经</a>

            <div class="nav-group-title">社区 Community</div>
            <a class="nav-item" onclick="switchPage('contributors', this)"><i class="fas fa-users"></i> 贡献者名单</a>
        </nav>
    </aside>
    <div class="mobile-menu-btn" onclick="toggleSidebar()"><i class="fas fa-bars"></i></div>

    <!-- 内容区域 -->
    <main class="content">

        <!-- 1. 首页：去掉了深色块，改为极简风 -->
        <div id="page-home" class="page-view active">
            <div class="hero-section">
                <h1 class="hero-title">VMath 威数</h1>
                <p class="hero-subtitle">HITwh 数学系资料共享计划，连接每一届的智慧。</p>
                <div>
                    <a onclick="switchPage('course-ma-12', document.querySelectorAll('.nav-item')[1])" class="btn btn-primary"><i class="fas fa-search"></i> 开始查找资料</a>
                </div>
            </div>

            <!-- 核心：如何上传资料 -->
            <div class="guide-box">
                <div class="guide-header">
                    <h2>如何贡献资料？</h2>
                    <p style="color:#64748b; font-size:0.95rem;">你的每一次分享，都可能成为下一届学弟学妹的“救命稻草”。</p>
                </div>
                
                <div class="guide-steps">
                    <div class="step">
                        <span class="step-num">1</span>
                        <h4>整理文件</h4>
                        <p>
                            <strong>教材/视频</strong>：请打包压缩。<br>
                            <strong>笔记/试卷</strong>：建议转为 PDF。
                        </p>
                    </div>
                    <div class="step">
                        <span class="step-num">2</span>
                        <h4>发送邮件</h4>
                        <p>发送至官方邮箱：<br><a href="mailto:13886465317@163.com" style="color:var(--theme-color); font-weight:600; text-decoration:none;">13886465317@163.com</a></p>
                        <p style="font-size:0.8rem; margin-top:5px; color:#94a3b8;">或直接微信联系 xyf</p>
                    </div>
                    <div class="step">
                        <span class="step-num">3</span>
                        <h4>上传方式</h4>
                        <p>管理员会将大文件上传至<strong>百度网盘</strong>，小文件上传至<strong>GitHub</strong>。</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ================= 大一课程 ================= -->

        <!-- 数学分析 (1)(2) -->
        <div id="page-course-ma-12" class="page-view">
            <h1>数学分析 (1)(2)</h1>
            <p class="page-desc">大一学年的核心基础课，微积分的严格理论体系。</p>
            
            <!-- 教材合集 (百度网盘) -->
            <h3><i class="fas fa-book" style="color:var(--accent-purple);"></i> 教材资料包</h3>
            <div class="resource-card baidu-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">数学分析经典教材合集 (电子书)</span>
                    <ul class="res-list">
                        <li>《数学分析》（华东师大 第四版）上下册</li>
                        <li>《数学分析原理》(Walter Rudin) 中英文版</li>
                        <li>《数学分析教程》（常庚哲、史济怀）</li>
                        <li>习题集：吉米多维奇 (精选本)</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>math</span></div>
                </div>
            </div>

            <!-- 内部资料 (混合模式) -->
            <h3><i class="fas fa-lock" style="color:var(--accent-red);"></i> 内部资料</h3>
            
            <!-- 小文件：GitHub直链 (取消密码) -->
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-red); background:#fee2e2;"><i class="fas fa-file-contract"></i></div>
                <div class="res-info">
                    <span class="res-title">2023-2024 秋季学期 期末试题 (回忆版)</span>
                    <span class="res-meta"><span class="tag tag-sec">内部</span> <span class="tag tag-git">PDF</span> 上传者: 匿名</span>
                </div>
                <div class="action-area">
                    <a href="resources/ma/2023-final.pdf" target="_blank" class="download-btn"><i class="fas fa-file-pdf"></i> 下载 PDF</a>
                </div>
            </div>

            <!-- 大文件：百度网盘链接 (取消密码，保留提取码) -->
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-red); background:#fee2e2;"><i class="fas fa-file-archive"></i></div>
                <div class="res-info">
                    <span class="res-title">数分(1) 往年真题与解析大全 (2010-2020)</span>
                    <span class="res-meta"><span class="tag tag-sec">内部</span> <span class="tag tag-file">大文件</span> 包含扫描版试卷</span>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 网盘下载</a>
                    <div class="extract-code">提取码: <span>1234</span></div>
                </div>
            </div>

            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-green); background:#d1fae5;"><i class="fas fa-pen-fancy"></i></div>
                <div class="res-info">
                    <span class="res-title">第一章：极限与连续 易错题总结</span>
                    <span class="res-meta"><span class="tag" style="background:#ecfdf5; color:var(--accent-green);">学霸笔记</span> <span class="tag tag-git">PDF</span> By 20级学长</span>
                </div>
                <div class="action-area">
                    <a href="resources/ma/notes-limit.pdf" target="_blank" class="download-btn"><i class="fas fa-file-pdf"></i> 下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- 高等代数 -->
        <div id="page-course-la" class="page-view">
            <h1>高等代数</h1>
            <p class="page-desc">线性空间、矩阵理论与几何的代数化。</p>

            <h3><i class="fas fa-book" style="color:var(--accent-purple);"></i> 教材资料包</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">高等代数参考书目合集</span>
                    <ul class="res-list">
                        <li>《高等代数》（北京大学数学系版）</li>
                        <li>《Linear Algebra Done Right》(Axler)</li>
                        <li>《高等代数习题解》（杨子胥）</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>hith</span></div>
                </div>
            </div>

            <h3><i class="fas fa-lock" style="color:var(--accent-red);"></i> 内部资料</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-red); background:#fee2e2;"><i class="fas fa-file-alt"></i></div>
                <div class="res-info">
                    <span class="res-title">高等代数(上) 期中考试模拟卷</span>
                    <span class="res-meta"><span class="tag tag-sec">内部</span> <span class="tag tag-git">PDF</span></span>
                </div>
                <div class="action-area">
                    <a href="resources/la/midterm-mock.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- 解析几何 -->
        <div id="page-course-geo" class="page-view">
            <h1>解析几何</h1>
            <p class="page-desc">空间解析几何与二次曲面理论。</p>
            <h3><i class="fas fa-book" style="color:var(--accent-purple);"></i> 教材</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">解析几何电子书合集</span>
                    <ul class="res-list">
                        <li>《解析几何》（丘维声）</li>
                        <li>《解析几何》（吕林根）</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>geo1</span></div>
                </div>
            </div>

            <h3><i class="fas fa-lock" style="color:var(--accent-red);"></i> 资料</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-red); background:#fee2e2;"><i class="fas fa-file-pdf"></i></div>
                <div class="res-info"><span class="res-title">二次曲面分类表 & 作图技巧</span></div>
                <div class="action-area">
                    <a href="resources/geo/summary.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- ================= 大二课程 ================= -->

        <!-- 数学分析 (3) -->
        <div id="page-course-ma-3" class="page-view">
            <h1>数学分析 (3)</h1>
            <p class="page-desc">多元微积分、级数、含参变量积分。</p>
            
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">数学分析(3) 补充教材</span>
                    <ul class="res-list">
                        <li>包含流形上的微积分相关参考书</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>ma33</span></div>
                </div>
            </div>

            <h3><i class="fas fa-star" style="color:var(--accent-gold);"></i> 重点笔记</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-gold); background:#fef3c7;"><i class="fas fa-star"></i></div>
                <div class="res-info"><span class="res-title">傅里叶级数收敛性判别法总结</span><span class="res-meta">期末必考点梳理</span></div>
                <div class="action-area">
                    <a href="resources/ma3/fourier.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- 常微分方程 -->
        <div id="page-course-ode" class="page-view">
            <h1>常微分方程 (ODE)</h1>
            <p class="page-desc">一阶微分方程、高阶线性微分方程组等。</p>
            <h3><i class="fas fa-book" style="color:var(--accent-purple);"></i> 教材</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">常微分方程教材合集</span>
                    <ul class="res-list">
                        <li>《常微分方程》（王高雄）第三版</li>
                        <li>《Ordinary Differential Equations》(Arnold)</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>ode1</span></div>
                </div>
            </div>
            <h3><i class="fas fa-lock" style="color:var(--accent-red);"></i> 资料</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-green); background:#d1fae5;"><i class="fas fa-pen-fancy"></i></div>
                <div class="res-info"><span class="res-title">第三章：存在唯一性定理 证明思路梳理</span></div>
                <div class="action-area">
                    <a href="resources/ode/notes-chap3.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- 复变函数 -->
        <div id="page-course-complex" class="page-view">
            <h1>复变函数</h1>
            <p class="page-desc">复平面上的微积分，留数定理的应用。</p>
            <h3><i class="fas fa-book" style="color:var(--accent-purple);"></i> 教材</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">复变函数论教材</span>
                    <ul class="res-list">
                        <li>《复变函数论》（钟玉泉）</li>
                        <li>《Complex Analysis》(Stein)</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/s/1k_ED5L2UxBzjK4NOKPHviQ?pwd=math" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>math</span></div>
                </div>
            </div>
            <h3><i class="fas fa-lock" style="color:var(--accent-red);"></i> 资料</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-red); background:#fee2e2;"><i class="fas fa-calculator"></i></div>
                <div class="res-info"><span class="res-title">留数计算 100 题 (含详解)</span></div>
                <div class="action-area">
                    <a href="resources/complex/residue-100.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- 实变函数 -->
        <div id="page-course-real" class="page-view">
            <h1>实变函数</h1>
            <p class="page-desc">测度论与勒贝格积分，大二最难课程之一。</p>
            <h3><i class="fas fa-book" style="color:var(--accent-purple);"></i> 教材</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">实变函数论教材合集</span>
                    <ul class="res-list">
                        <li>《实变函数论》（周民强）</li>
                        <li>《Real Analysis》(Folland)</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>real</span></div>
                </div>
            </div>
            <h3><i class="fas fa-lock" style="color:var(--accent-red);"></i> 资料</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:#000; background:#e2e8f0;"><i class="fas fa-skull"></i></div>
                <div class="res-info"><span class="res-title">实变函数定理逻辑图谱 (防挂科必备)</span></div>
                <div class="action-area">
                    <a href="resources/real/map.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- ================= 大三课程 ================= -->

        <!-- 概率论 -->
        <div id="page-course-prob" class="page-view">
            <h1>概率论</h1>
            <p class="page-desc">随机事件、大数定律与中心极限定理。</p>
            <h3><i class="fas fa-book" style="color:var(--accent-purple);"></i> 教材</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">概率论与数理统计教材</span>
                    <ul class="res-list">
                        <li>《概率论与数理统计》（茆诗松）</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>prob</span></div>
                </div>
            </div>
            <h3><i class="fas fa-lock" style="color:var(--accent-red);"></i> 资料</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-red); background:#fee2e2;"><i class="fas fa-file-alt"></i></div>
                <div class="res-info"><span class="res-title">往年概率论期末试题合集</span></div>
                <div class="action-area">
                    <a href="resources/prob/past-exams.zip" target="_blank" class="download-btn">下载 ZIP</a>
                </div>
            </div>
        </div>

        <!-- 数值逼近 -->
        <div id="page-course-num-approx" class="page-view">
            <h1>数值逼近</h1>
            <p class="page-desc">函数逼近理论与算法。</p>
            <h3><i class="fas fa-code" style="color:var(--accent-green);"></i> 实验代码</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-green); background:#d1fae5;"><i class="fab fa-python"></i></div>
                <div class="res-info"><span class="res-title">Lagrange插值与样条插值 Python 实现</span></div>
                <div class="action-area">
                    <a href="resources/num/approx-code.zip" target="_blank" class="download-btn">下载 Code</a>
                </div>
            </div>
        </div>

        <!-- 数值代数 -->
        <div id="page-course-num-alg" class="page-view">
            <h1>数值代数</h1>
            <p class="page-desc">线性方程组数值解法。</p>
            <h3><i class="fas fa-file-code" style="color:var(--accent-green);"></i> 资料</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-green); background:#d1fae5;"><i class="fas fa-file-word"></i></div>
                <div class="res-info"><span class="res-title">Matlab 实验报告模板</span></div>
                <div class="action-area">
                    <a href="resources/num/report-template.doc" target="_blank" class="download-btn">下载 DOC</a>
                </div>
            </div>
        </div>

        <!-- 数学物理方程 -->
        <div id="page-course-pde" class="page-view">
            <h1>数学物理方程 (PDE)</h1>
            <p class="page-desc">波动方程、热传导方程、调和方程。</p>
            <h3><i class="fas fa-book" style="color:var(--accent-purple);"></i> 教材</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">数学物理方程教材</span>
                    <ul class="res-list">
                        <li>《数学物理方程》（谷超豪）</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>pde1</span></div>
                </div>
            </div>
            <h3><i class="fas fa-lock" style="color:var(--accent-red);"></i> 资料</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-red); background:#fee2e2;"><i class="fas fa-file-pdf"></i></div>
                <div class="res-info"><span class="res-title">分离变量法 典型例题解析</span></div>
                <div class="action-area">
                    <a href="resources/pde/separation-variables.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- 大学物理X -->
        <div id="page-course-phy" class="page-view">
            <h1>大学物理 X</h1>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--theme-color); background:#e0f2fe;"><i class="fas fa-atom"></i></div>
                <div class="res-info"><span class="res-title">大物X 期末公式纸 (Cheat Sheet)</span></div>
                <div class="action-area">
                    <a href="resources/phy/cheat-sheet.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- 泛函分析基础 -->
        <div id="page-course-func" class="page-view">
            <h1>泛函分析基础</h1>
            <p class="page-desc">无限维空间的分析学。</p>
            <h3><i class="fas fa-book" style="color:var(--accent-purple);"></i> 教材</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">泛函分析教材合集</span>
                    <ul class="res-list">
                        <li>《泛函分析讲义》（张恭庆）</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>func</span></div>
                </div>
            </div>
        </div>

        <!-- 数理统计 -->
        <div id="page-course-stat" class="page-view">
            <h1>数理统计</h1>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-green); background:#d1fae5;"><i class="fas fa-chart-bar"></i></div>
                <div class="res-info"><span class="res-title">最大似然估计 MLE 习题集</span></div>
                <div class="action-area">
                    <a href="resources/stat/mle-problems.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- 微分方程数值方法 -->
        <div id="page-course-num-diff" class="page-view">
            <h1>微分方程数值方法</h1>
            <p class="page-desc">有限差分法、有限元法入门。</p>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-green); background:#d1fae5;"><i class="fas fa-code"></i></div>
                <div class="res-info"><span class="res-title">FDM 差分法 Python 示例代码</span></div>
                <div class="action-area">
                    <a href="resources/num/fdm-code.py" target="_blank" class="download-btn">下载 Code</a>
                </div>
            </div>
        </div>

        <!-- 信息论基础 -->
        <div id="page-course-info" class="page-view">
            <h1>信息论基础</h1>
            <h3><i class="fas fa-book" style="color:var(--accent-purple);"></i> 教材</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-folder-open"></i></div>
                <div class="res-info">
                    <span class="res-title">信息论教材</span>
                    <ul class="res-list">
                        <li>《Elements of Information Theory》(Cover)</li>
                    </ul>
                </div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 百度网盘</a>
                    <div class="extract-code">提取码: <span>info</span></div>
                </div>
            </div>
        </div>

        <!-- ================= 大四课程 ================= -->
        
        <!-- 毕业设计 -->
        <div id="page-course-thesis" class="page-view">
            <h1>毕业设计参考</h1>
            <p class="page-desc">毕业论文排版与优秀范例。</p>
            <h3><i class="fas fa-file-code" style="color:var(--theme-color);"></i> LaTeX 模板</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--theme-color); background:#e0f2fe;"><i class="fas fa-code"></i></div>
                <div class="res-info"><span class="res-title">HITwh 本科毕设 LaTeX 模板 (2024版)</span><span class="res-meta">符合教务处最新格式要求</span></div>
                <div class="action-area">
                    <a href="https://github.com/hitwh-thesis" target="_blank" class="download-btn">GitHub</a>
                </div>
            </div>
            <h3><i class="fas fa-award" style="color:var(--accent-gold);"></i> 优秀论文</h3>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-gold); background:#fef3c7;"><i class="fas fa-file-pdf"></i></div>
                <div class="res-info"><span class="res-title">历年优秀本科毕设题目列表</span></div>
                <div class="action-area">
                    <a href="resources/thesis/best-papers.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- ================= 其他课程 ================= -->
        
        <div id="page-course-elective" class="page-view">
            <h1>专业选修课</h1>
            <p class="page-desc">组合数学、图论、运筹学等。</p>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--theme-color); background:#e0f2fe;"><i class="fas fa-file-alt"></i></div>
                <div class="res-info"><span class="res-title">运筹学 期末复习重点</span></div>
                <div class="action-area">
                    <a href="resources/elective/or-notes.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>
        
        <div id="page-course-exam" class="page-view">
            <h1>其他考查课</h1>
            <p class="page-desc">数学软件、Matlab编程等。</p>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--theme-color); background:#e0f2fe;"><i class="fas fa-laptop-code"></i></div>
                <div class="res-info"><span class="res-title">数学软件 Maple 实验指导书</span></div>
                <div class="action-area">
                    <a href="resources/exam/maple-guide.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- ================= 生涯导航 ================= -->
        
        <!-- 考研 -->
        <div id="page-career-post" class="page-view">
            <h1 style="color:var(--accent-gold);">考研资料</h1>
            <p class="page-desc">包含数学专业考研及跨考相关资料。</p>
             <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-gold); background:#fef3c7;"><i class="fas fa-folder-open"></i></div>
                <div class="res-info"><span class="res-title">北大数学系考研真题合集 (2010-2022)</span></div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 网盘下载</a>
                    <div class="extract-code">提取码: <span>pku1</span></div>
                </div>
            </div>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-gold); background:#fef3c7;"><i class="fas fa-folder-open"></i></div>
                <div class="res-info"><span class="res-title">考研英语/政治 电子书资源</span></div>
                <div class="action-area">
                    <a href="https://pan.baidu.com/" target="_blank" class="download-btn baidu"><i class="fas fa-cloud-download-alt"></i> 网盘下载</a>
                    <div class="extract-code">提取码: <span>ky88</span></div>
                </div>
            </div>
        </div>

        <!-- 保研 -->
        <div id="page-career-rec" class="page-view">
            <h1 style="color:var(--accent-red);">保研经验</h1>
            <p class="page-desc">综合测评、夏令营投递与面试经验。</p>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-red); background:#fee2e2;"><i class="fas fa-table"></i></div>
                <div class="res-info"><span class="res-title">综合测评加分细则计算表 (Excel)</span></div>
                <div class="action-area">
                    <a href="resources/rec/score-calc.xlsx" target="_blank" class="download-btn">下载 XLSX</a>
                </div>
            </div>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-red); background:#fee2e2;"><i class="fas fa-university"></i></div>
                <div class="res-info"><span class="res-title">夏令营/预推免 院校投递清单</span></div>
                <div class="action-area">
                    <a href="resources/rec/uni-list.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- 留学 -->
        <div id="page-career-abroad" class="page-view">
            <h1 style="color:var(--accent-purple);">留学申请</h1>
            <p class="page-desc">出国留学申请资料与时间线规划。</p>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-purple);"><i class="fas fa-file-word"></i></div>
                <div class="res-info"><span class="res-title">学术简历 (CV) LaTeX 模板</span><span class="res-meta">针对数学/CS申请优化</span></div>
                <div class="action-area">
                    <a href="resources/abroad/cv-template.zip" target="_blank" class="download-btn">下载 ZIP</a>
                </div>
            </div>
        </div>

        <!-- 就业 -->
        <div id="page-career-job" class="page-view">
            <h1 style="color:var(--accent-green);">就业 & 实习</h1>
            <p class="page-desc">互联网、金融等方向求职准备。</p>
            <div class="resource-card">
                <div class="res-icon" style="color:var(--accent-green); background:#d1fae5;"><i class="fas fa-code"></i></div>
                <div class="res-info"><span class="res-title">LeetCode Hot 100 题解 (Python/C++)</span><span class="res-meta">算法岗/开发岗面试必刷</span></div>
                <div class="action-area">
                    <a href="resources/job/leetcode-100.pdf" target="_blank" class="download-btn">下载 PDF</a>
                </div>
            </div>
        </div>

        <!-- 贡献者墙 -->
        <div id="page-contributors" class="page-view">
            <h1 style="text-align:center; border:none; margin-top:20px;">Hall of Fame</h1>
            <p style="text-align:center; color:#64748b; margin-bottom:40px;">感谢每一位为 HITwh 数学系大家庭添砖加瓦的同学</p>
            
            <div class="contributors-grid">
                <div class="user-card">
                    <div class="user-avatar"><img src="https://api.dicebear.com/7.x/miniavs/svg?seed=1" alt="avatar"></div>
                    <div class="user-name">王大伟</div>
                    <span class="tag tag-sec">保研 - 北大直博</span>
                    <div class="user-contribution">贡献：数学分析学霸笔记</div>
                </div>
                <div class="user-card">
                    <div class="user-avatar"><img src="https://api.dicebear.com/7.x/miniavs/svg?seed=2" alt="avatar"></div>
                    <div class="user-name">李雪</div>
                    <span class="tag" style="background:#d1fae5; color:#059669;">Offer - 华为</span>
                    <div class="user-contribution">贡献：Python 实验报告</div>
                </div>
                <div class="user-card">
                    <div class="user-avatar"><img src="https://api.dicebear.com/7.x/miniavs/svg?seed=3" alt="avatar"></div>
                    <div class="user-name">Alex Chen</div>
                    <span class="tag" style="background:#f3e8ff; color:#7c3aed;">留学 - CMU</span>
                    <div class="user-contribution">贡献：常微英文参考书</div>
                </div>
                <div class="user-card">
                    <div class="user-avatar"><i class="fas fa-user"></i></div>
                    <div class="user-name">匿名好心人</div>
                    <span class="tag tag-file">资料贡献</span>
                    <div class="user-contribution">贡献：复变函数手写笔记</div>
                </div>
            </div>
        </div>

        <!-- ================= 评论区 (所有页面公用一个容器，JS控制切换) ================= -->
        <div class="comments-section" id="comments-section">
            <div class="comments-header"><i class="far fa-comments"></i> 课程讨论区 / 资料评价</div>
            <div id="comments-container">
                <!-- Giscus 将注入到这里 -->
            </div>
        </div>

    </main>

    <script>
        function switchPage(pageId, element) {
            // 1. 切换侧边栏高亮
            if(element) {
                document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
                element.classList.add('active');
            }
            
            // 2. 切换页面内容
            document.querySelectorAll('.page-view').forEach(el => el.classList.remove('active'));
            let tid = 'page-' + pageId;
            let el = document.getElementById(tid);
            if (!el) {
                // 如果没有对应的页面ID，默认回首页
                el = document.getElementById('page-home');
                pageId = 'home';
            }
            el.classList.add('active');
            window.scrollTo(0,0);

            // 3. 移动端收起菜单
            if(window.innerWidth <= 768) {
                document.getElementById('sidebar').classList.remove('open');
            }

            // 4. 更新评论区 (Giscus)
            updateGiscus(pageId);
        }

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        // ================= Giscus 评论区逻辑 =================
        function updateGiscus(term) {
            const container = document.getElementById('comments-container');
            if(!container) return;

            document.getElementById('comments-section').style.display = 'block';

            const iframe = document.querySelector('iframe.giscus-frame');

            if (!iframe) {
                // 第一次加载：创建 Script 标签
                const script = document.createElement('script');
                script.src = "https://giscus.app/client.js";
                
                // -------------------------------------------------------------------
                // 配置区域 (已填好)
                // -------------------------------------------------------------------
                script.setAttribute("data-repo", "X-huiii/Weishu"); 
                script.setAttribute("data-repo-id", "R_kgDOQ0JjzQ");
                script.setAttribute("data-category", "General"); 
                script.setAttribute("data-category-id", "DIC_kwDOQ0Jjzc4C0yT_");
                // -------------------------------------------------------------------

                // 强制使用手动具体映射 (Specific)，以适应单页应用 (SPA)
                script.setAttribute("data-mapping", "specific"); 
                script.setAttribute("data-term", term);           // 将当前页面ID作为话题
                
                script.setAttribute("data-strict", "0");
                script.setAttribute("data-reactions-enabled", "1");
                script.setAttribute("data-emit-metadata", "0");
                script.setAttribute("data-input-position", "top");
                script.setAttribute("data-theme", "light");
                script.setAttribute("data-lang", "zh-CN");
                script.setAttribute("crossorigin", "anonymous");
                script.async = true;
                container.appendChild(script);
            } else {
                // 已经加载过：通过 postMessage 发送指令切换话题
                iframe.contentWindow.postMessage({
                    giscus: {
                        setConfig: {
                            term: term
                        }
                    }
                }, 'https://giscus.app');
            }
        }

        // 页面初始化
        document.addEventListener('DOMContentLoaded', () => {
            // 默认加载首页的评论
            updateGiscus('home');
        });
    </script>
</body>
</html>
